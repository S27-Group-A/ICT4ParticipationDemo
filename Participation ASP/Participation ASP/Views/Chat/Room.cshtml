@using Participation_ASP.Models

@{
    ViewBag.Title = "Room";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<head>
    <meta charset="utf-8">
    <link href="~/scripts/chat.css" rel="stylesheet" />
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <script src="~/scripts/webrtc.js"></script>
</head>
<body>
    <br />
    <br />
    <p>
        Klik op een gebruikersnaam in de lijst om een één tot één video gesprek te starten.
    </p>
    <p>
        Voer een gebruikersnaam in. <input id="name" type="text" value="@ViewBag.UserName" maxlength="12" required
                                 autocomplete="username" inputmode="verbatim" placeholder="Username"  readonly="readonly">
        <input type="button" name="login" value="Log in" onclick="connect()">
    </p>
    <div id="container" class="flexChild columnParent">
        <div class="flexChild rowParent">
            <div class="flexChild rowParent">
                <div class="flexChild" id="userlist-container">
                    <ul id="userlistbox"></ul>
                </div>
                <div class="flexChild" id="chat-container">
                    <iframe id="chatbox"></iframe>
                </div>
            </div>
            <div class="flexChild" id="camera-container">
                <div class="camera-box">
                    <video id="received_video" autoplay>width </video>
                    <video id="local_video" autoplay muted></video>
                    <button id="hangup-button" onclick="hangUpCall();" disabled>
                        Op Hangen
                    </button>
                </div>
            </div>
        </div>
        <div class="flexChild rowParent" id="control-row">
            <div class="flexChild" id="empty-container"></div>
            <div class="flexChild" id="chat-controls-container">
                Chat: <input id="text" type="text" name="text" size="80" maxlength="256"
                             placeholder="Chat met ons!" autocomplete="off" onkeyup="handleKey(event)">
                <input type="button" id="send" name="Versturen" value="Send"
                       onclick="handleSendButton(text)">
            </div>
        </div>
    </div>
</body>
